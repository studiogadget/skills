# パターン抽出の例

## WHAT/HOW 抽出の例

```
プロンプト: 「プロジェクト全体をリファクタリングして。エージェントチームを組成して並列で進めて」
→ WHAT: 「プロジェクト全体のリファクタリング」にカウント
→ HOW:  「エージェントチーム組成で並列タスク実行」にカウント

プロンプト: 「レビュー指摘対応をして。効率的に進めるために、エージェントチームを組成して」
→ WHAT: 「レビュー指摘→修正→コミット」にカウント
→ HOW:  「エージェントチーム組成で並列タスク実行」にカウント（同じ HOW が別の WHAT で再出現）
```

## FLOW パターンの例

### 例 1: UI/UX 改善フロー

```
セッションA: 「UIの改善点を洗い出して」→「すべて対応して [リスト]」→「コミット」
セッションB: 「UIUXの改善点を洗い出して」→「すべて対応してください [リスト]」→「タブUIに戻して」
セッションC: 「UIUXの改善点を洗い出して」→「すべて対応してください [リスト]」

→ FLOW パターン: 「UI/UX改善点洗い出し→一括対応指示→微調整/コミット」(3回)
  これは単体のWHAT「UI改善点を洗い出す」よりもスキル化の価値が高い。
  洗い出し基準・対応指示のテンプレート・完了後のコミットまで一貫してカバーできるため。
```

### 例 2: レビュー指摘修正フロー

```
セッションD: 「レビュー指摘対応をして [リスト]」→「コミット」
セッションE: 「すべて修正してください [指摘リスト]」→「コミット」→「PR作成」
セッションF: 「修正してください」→「コミット」

→ FLOW パターン: 「レビュー指摘修正→検証→コミット(→PR)」(3回)
```

## タスクパターンの粒度

良い粒度（具体的・アクション指向）:

- WHAT: 「変更を適切な粒度でコミット（除外パターンあり）」
- WHAT: 「レビュー指摘を修正して typecheck/lint を通してコミット」
- HOW: 「エージェントチームを組成して大規模タスクを並列実行」
- HOW: 「code-simplify で変更後のコードをシンプルに保つ」
- HOW: 「git worktree を作成して別ブランチで機能実装→PR作成」

悪い粒度（抽象的・カテゴリ的）:

- 「UI/UX の改善」（何をどう改善するかが不明）
- 「コミット操作」（粒度が大きすぎる）
- 「バグ修正」（ドメイン知識が異なる修正を一括りにしている）
- 「効率化」（HOW の具体性がない）

### 粒度の判断基準

1つのタスクパターンに含まれるセッションが**同じ手順・判断基準**で処理できるか？

- YES → 適切な粒度
- NO → さらに分割する

例: 「UI改善」に「ボタン色変更」「レイアウト調整」「不要要素削除」「IME対応」が混在 → 手順が異なるので分割
